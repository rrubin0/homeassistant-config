#####################################################################
###  Away Mode
#####################################################################
script:
  away:
    alias: "Away Mode"
    sequence:
    ### lock the doors
    - service: lock.lock
      entity_id: all

    ### turn off all lights (except porch) and devices
    - service: homeassistant.turn_off
      entity_id:
        - fan.patio_fan
        - group.interior_lights
#        - group.exterior_lights #disable for christmas
        - switch.patio_light
        - switch.pool_light
#        - group.outlets
        - switch.mini_fridge
        - switch.aquarium
        - switch.office_spare
      # rf switch upstairs wipe warmer
        - switch.switch_one
      # rf switch downstairs wipe warmer
        - switch.switch_three
      # rf switch power wheels charger
        - switch.switch_four
      # rf switch nursery humidifier
        - switch.switch_five

    ### set climate away mode
    - service: climate.set_preset_mode
      data:
        entity_id: climate.downstairs
        preset_mode: 'Away'

    - service: climate.set_preset_mode
      data:
        entity_id: climate.upstairs
        preset_mode: 'Away'

    - service: automation.turn_off
      entity_id: automation.evening_scene_schedule

    ### send notification
    - service: notify.mobile_app_rip8plus
      data:
        title: "Away Mode ON"
        message: "Away mode is ON."

    - condition: state
      entity_id: switch.tv
      state: 'on'

    - service: switch.turn_off
      entity_id: switch.tv
      
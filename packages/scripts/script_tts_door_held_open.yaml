#####################################################################
### Scripts used for announcements via Alexa TTS
#####################################################################
script:
  ### Door held open
  tts_door_held_open:
    alias: "Door Held Open"
    sequence:
    - service: notify.mobile_app_rip8plus
      data:
        title: "Door Held Open"
        message: "A door's held open - Away mode activated on Downstairs Ecobee"

    - condition: state
      entity_id: input_boolean.announce
      state: 'on'

    - service: media_player.volume_set
      entity_id: media_player.living_room
      data_template:
        volume_level: "{{ states.sensor.alexa_volume.state }}"

    - service: notify.alexa_media
      data:
        target: media_player.living_room
        data:
          type: tts
        message: "I've detected a door held open for too long so I'm turning off the AC to save energy."




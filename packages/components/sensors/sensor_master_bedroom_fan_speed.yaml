#####################################################################
### Master Bedroom Ceiling Fan Control via temperature
#####################################################################
sensor:
  ### Master Bedroom Fan Temp Setting
  - platform: template
    sensors:
      master_bedroom_fan_speed:
        friendly_name: "Master Bedroom Fan Speed"
        value_template: >-
          {% set temperature = states('sensor.upstairs_temperature')|float %}
          {% if 73.0 <= temperature <=75.5 %}
            1
          {% elif 75.6 <= temperature <=77.4 %}
            2
          {% elif 77.5 <= temperature <=80.5 %}
            4
          {% elif temperature > 80.5 %}
            5
          {% else %}
            Off
          {% endif %}

## for sensor.upstairs_temperature the trigger for speed 4 should be 77.5